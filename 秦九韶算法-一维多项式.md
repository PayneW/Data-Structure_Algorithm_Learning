# 秦九韶算法
> 秦九韶算法是一种将一元 n 次多项式转换为 n 个一次式的简化算法. <br/>
> 一元 n 次多项式: $f(x) = a_n{x^n} + a_{n-1}{x^{n-1}} + \cdots + a_1{x^1} + a_0{x^0} \quad (2)$
- 以下例为例, 运用秦九韶算法:
  $$
    \begin{align}
        & f(x) = 4 * x^3 + 3 * x^2 + 2 * x^1 + 1 * x^0 \\
        & = x * (4 * x^2 + 3 * x^1 + 2) + 1 \\
        & = x * (x* (4 * x^1 + 3) + 2) + 1
    \end{align}
  $$
- 计算 $f(4)$ 时, 首先计算最内层括号内的一次多项式的值:
  $4 * x + 3 = 4 * 4 + 3 = 19$
- 然后由内向外逐层计算一次多项式的值: <br/>
  $x * 19 + 2 = 4 * 19 + 2 = 78$ <br/>
  $\Rightarrow x * 78 + 1 = 4 *78 + 1 = 313$ 
- 可以看到, 一共进行了 3 次乘法, 3 次加法. 并推出计算 (2) 时, 总共需要至多 n
  次乘法, n 次加法. 也就是说：使用秦九韶算法计算一元 n 次多项式时, 乘法运算的时间复杂度为
  $O(n)$, 加法运算的时间复杂度为 $O(n)$. 对比朴素算法, 大大简化了乘法运算的 

## 算法实现: 以为多项式求值 (秦九韶算法)
- 问题通式: 
  $$P(x) = a_{n-1}{x^{n-1}} + a_{n-2}{x^{n-2}} + \cdots + a_1{x^1} + a_0{x^0}$$
  求指定点 $x$ 出的函数值.
- 思路: 运用秦九韶算法, 将多项式表示成如下嵌套模板:
  $$P(x) = (\cdots((a_{n-1}{x} + a_{n-2})x + a_{n-3})x + \cdots + a_1)x + a_0$$ 
- 可以转换为程序语言思想:
    + $sum = a_{n-1}$
    + $sum = sum * x + a_i (i = n-2, n-3 \cdots 1, 0)$
- 可以通过 for 循环来实现. C 语言代码如下:
```c
    #include <stdio.h>

    // - 函数名: double odpf (double array[], int n, double x)
    //   + odpf: One dimensional polynomial function. 一维多项式求值
    // - 参数:
    //   + double array[]: 系数数组 (既: $a_{n-1}, a_{n-2}, \cdots, a_1, a_0$)
    //   + int n: 表示 n 项
    //   + double x:  x 的值
    // - 返回值: 计算结果 sum
    double odpf(double array[], int n, double x) {
        double sum;
        sum = array[n-1];
        for (int i = n-2; i >=0; i--) {
            sum = sum * x + array[i];
        }
        return sum;
    }
    
    int main() {
        double array[10];
        double x;
        int n;
        printf("请输入项数:");
        scanf("%d", &n);

        // - pringf() 输出函数
        // - scanf() 输入函数. 两个函数都是用格式字符串和参数列表.
        printf("请输入系数(空格隔开):");
        for (int i= n-1; i>=0; i--) {
            scanf("%lf", &array[i]);
        }

        while (true) {
            printf("请输入 x 的值:");
            scanf("%lf", &x);
            printf("x = %5.12f, p(%5.12f) = %.21f\n\n", x, x, odpf(array, n, x));
        }
        return 0;
    }
```    
  