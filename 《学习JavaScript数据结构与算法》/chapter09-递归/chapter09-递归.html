<script>
    // - 阶乘 factorial
    function factorial(n) {
        // console.trace();
        if (n === 1 || n ===0) {
            return 1;
        }
        return n * factorial(n -1);
    }
    // - Note: 讲解见 md 文档
    // factorial(3);


    // - 递归(Iterative)求斐波那契数
    function fibonacci(n) {
        if (n < 1){
            return 0;
        }
        if (n <= 2) {
            return 1;
        }
        return fibonacci(n - 1) + fibonacci(n - 2);
    }
    // console.log(fibonacci(6));


    // - 迭代(Recursive)求斐波那契数
    function fibonacciIterative(n) {
        if (n < 1) {return 0;}
        let fibNMinus2 = 0;
        let fibNMinus1 = 1;
        let fibN = n;
        for (let i = 2; i <= n; i++) {
            fibN = fibNMinus1 + fibNMinus2;
            fibNMinus2 = fibNMinus1;
            fibNMinus1 = fibN;
            console.log("fibN:", fibN);
        }
        return fibN;
    }
    // console.log(fibonacciIterative(16));

    // - 9.3.3 记忆化斐波那契数
    function fibonacciMemorization(n) {
        if (n < 1) {return 0;}
        const memo = [0, 1];
        const fibonacciMem = num => {
            if (memo[num] != null) {return memo[num];}
            console.log("memo: ", memo);
            return (memo[num] = fibonacciMem(num -1) + fibonacciMem(num -2));
        };
        return fibonacciMem(n);
    }
    console.log(fibonacciMemorization(6));
</script>